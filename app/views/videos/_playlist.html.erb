<% @videos.each do |vid| %>

  <div class="thumbnail" style='height: 117px; width: 150px; padding: 10px;' >
    <div style='background: url(<%= asset_path(:image, 'frame_horizontal_top') %>) repeat-x top left; width: 100%; height: 100%; position: relative;'>
      <div style='background: url(<%= asset_path(:image, 'frame_horizontal_bottom') %>) repeat-x bottom left; width: 100%; height: 100%; position: relative;'>
        <div style='background: url(<%= asset_path(:image, 'frame_vertical') %>) repeat-y top left; width: 100%; height: 100%; position: relative;'>
          <div style='background: url(<%= asset_path(:image, 'frame_vertical') %>) repeat-y top right; width: 100%; height: 100%; position: relative;'>
            <div style='position: relative; width: 100%; height: 100%;'>
              <span style='background: url(<%= asset_path(:image, 'corner_top_left') %>) no-repeat; position: absolute; width: 22px; height: 22px; top: 0; left: 0;'></span>
              <span style='background: url(<%= asset_path(:image, 'corner_top_right') %>) no-repeat; position: absolute; width: 22px; height: 22px; top: 0; right: 0;'></span>
              <span style='background: url(<%= asset_path(:image, 'corner_bottom_left') %>) no-repeat; position: absolute; width: 22px; height: 22px; bottom: 0; left: 0;'></span>
              <span style='background: url(<%= asset_path(:image, 'corner_bottom_right') %>) no-repeat; position: absolute; width: 22px; height: 22px; bottom: 0; right: 0;'></span>
              <span id='queue_<%= vid.id %>' style='background: url(<%= asset_path(:image, 'balloon') %>) no-repeat; width: 102px; height: 24px; position: absolute; top: -10px; left: 24px; color: black; font-weight: bold; text-align: center; opacity: 0; cursor: pointer;'>queue</span>
              <div style='height: 100%; width: 100%; padding: 10px'>
                <a href="<%= resource(vid) %>" id='vid_<%= vid.id %>'>
                <div>
                  <img src="<%= vid.thumbnail %>">
                </div>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

<script>
  $('#vid_<%= vid.id %>').mouseover( function(){ $('#queue_<%= vid.id %>').css('opacity', 0.5); });
  $('#vid_<%= vid.id %>').mouseout( function(){ $('#queue_<%= vid.id %>').css('opacity', 0); });

  $('#queue_<%= vid.id %>').mouseover( function(){ 


    $('#queue_<%= vid.id %>').css('opacity', 0.9);
  });
  
  $('#queue_<%= vid.id %>').mouseout( function(){ 
    $('#queue_<%= vid.id %>').css('color', 'black');
    $('#queue_<%= vid.id %>').css('opacity', 0);
  });
  
  $('#queue_<%= vid.id %>').mousedown( function(){
    $.post("<%=  url(:controller => 'videos') %>", { url: '<%= vid.url %>' }, function(response){
      $('#playlist').load("<%= url(:controller => 'videos', :action => 'playlist')%>");
    });
  });
</script>

<% end %>