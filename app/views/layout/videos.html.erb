<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <script src="http://swfobject.googlecode.com/svn/tags/rc3/swfobject/src/swfobject.js" type="text/javascript"></script>
  <script src="/javascripts/jquery-1.2.6.js" type="text/javascript" charset="utf-8"></script>
  <title>Pipeline</title>
  
  <style type="text/css" media="screen">
  *{
    padding: 0;
    margin: 0;
    font-family: arial;
  }

  body{
    background: white;
    color: black;
    padding-top: 120px;
  }

  #console{
    width: 100%;
    height: 103px;
    background-color: #000;
    opacity: 0.85;
    z-index: 100;
    position: absolute;
    top: 0px;
    padding: 5px 0 5px 0;
    overflow: auto;
    border-bottom: 1px solid #111;
    color: white;
  }

  #console form{
    padding-top: 10px;
    margin: 0 auto;
    width: 1200px;
    font-weight: bold;
    font-size: 4em;
  }
  
  #console label{
    padding-right: 10px;
  }
  
  #console input{
    border: 0;
    background: #0a0a0a;
    color: white;
    font-size: 1em;
    width: 800px;
  }

  .console_line, .console_line_last{
    display: block;
    padding-left: 5px;
    font-family: "Monaco", monospace;
    font-size: 10px;
    color: white;
  }

  .console_line_last{
    margin-bottom: 5px;
    border-right: 6px solid #333;
    display: inline;
    padding-right: 5px;
  }
  
  #plus{
    background: #191919;
    height: 100px;
    width: 100px;
  }

  #video_wrapper{
    width: 420px;
    height: 320px;
    margin: 0 auto;
  }

  </style>
  
  <script type="text/javascript" charset="utf-8">
    
    function post_video(){
      // Get url inputed.
      yt_url = $('#yt_url').val();
      // POST the url.
      $.post("<%=  url(:controller => 'videos', :action => 'create') %>", { url: yt_url }, function(data){
        //user feedback depending on whether url was correct or not.
      }, 'text');
    }
    
  </script>
</head>

<body>

  <div id="console">
    <form style='margin: 0 auto;' action="javascript:post_video();">
      <label>youtube url </label><input id='yt_url' type='text' value=''></input>
    </form>
  </div>

  <div id="video_wrapper">
    <div style='background: url(/images/frame_horizontal_top.png) repeat-x top left; width: 100%; height: 100%; position: relative;'>
      <div style='background: url(/images/frame_horizontal_bottom.png) repeat-x bottom left; width: 100%; height: 100%; position: relative;'>
        <div style='background: url(/images/frame_vertical.png) repeat-y top left; width: 100%; height: 100%; position: relative;'>
          <div style='background: url(/images/frame_vertical.png) repeat-y top right; width: 100%; height: 100%; position: relative;'>
            <div style='position: relative; width: 100%; height: 100%;'>
              <span style='background: url(/images/corner_top_left.png) no-repeat; position: absolute; width: 22px; height: 22px; top: 0; left: 0;'></span>
              <span style='background: url(/images/corner_top_right.png) no-repeat; position: absolute; width: 22px; height: 22px; top: 0; right: 0;'></span>
              <span style='background: url(/images/corner_bottom_left.png) no-repeat; position: absolute; width: 22px; height: 22px; bottom: 0; left: 0;'></span>
              <span style='background: url(/images/corner_bottom_right.png) no-repeat; position: absolute; width: 22px; height: 22px; bottom: 0; right: 0;'></span>
              <div style='height: 100%; width: 100%; padding: 10px'>
              <div id='video'>
                You need Flash player 8+ and JavaScript enabled to view this video.
              </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="text/javascript">
  // <![CDATA[

  // allowScriptAccess must be set to allow the Javascript from one 
  // domain to access the swf on the youtube domain
  var params = { allowScriptAccess: "always", bgcolor: "#cccccc", rel: "0", autoplay: "1", wmode: "transparent" };
  // this sets the id of the object or embed tag to 'myytplayer'.
  // You then use this id to access the swf and make calls to the player's API
  var atts = { id: "video_player" };
  swfobject.embedSWF("http://www.youtube.com/apiplayer?enablejsapi=1&playerapiid=ytplayer", 
  "video", "400", "300", "8", null, null, params, atts);
  //]]>
  </script>

  <%= catch_content :for_layout %>

  <script type="text/javascript" charset="utf-8">
  /*$("#console").click(function(){
    $("#console").animate({ 
      top: -100,
      opacity: 0,
      }, 500 );
    });
    $("body").click(function(){
      $("#console").animate({ 
        top: 0,
        opacity: 0.85,
        }, 500 );
      });
*/
  </script>

</body>
</html>
